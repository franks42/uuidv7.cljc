<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>uuidv7.cljc — Scittle Tests</title>
  <script src="https://cdn.jsdelivr.net/npm/scittle@0.7.30/dist/scittle.js" type="application/javascript"></script>
</head>
<body>
  <h2>uuidv7.cljc — Scittle Test Results</h2>
  <pre id="test-output" data-status="pending">Running tests…</pre>

  <!-- Dependency order: shim → library → tests → runner -->

  <!-- 1. clojure.test shim (scittle has no built-in test framework) -->
  <script type="application/x-scittle" src="/test/runners/test_scittle/clojure_test_shim.cljs"></script>

  <!-- 2. Library source -->
  <script type="application/x-scittle" src="/src/com/github/franks42/uuidv7/core.cljc"></script>

  <!-- 3. Test file -->
  <script type="application/x-scittle" src="/test/uuidv7/core_test.cljc"></script>

  <!-- 4. Run tests and write results to DOM -->
  <script type="application/x-scittle">
(ns test-runner
  (:require [clojure.test :as t]))

(let [{:keys [pass fail error]} (t/run-tests 'uuidv7.core-test)
      output-el (js/document.getElementById "test-output")
      text (clojure.string/join "\n" @t/*output*)
      status (if (and (zero? fail) (zero? error)) "pass" "fail")]
  (set! (.-textContent output-el) text)
  (.setAttribute output-el "data-status" status))
  </script>
</body>
</html>
